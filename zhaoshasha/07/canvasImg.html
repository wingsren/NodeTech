<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>canvas图片保存</title>
	</head>
	<body>
		<style>
	
		</style>
		<script type="text/javascript" src="js/jquery-1-11.1-min.js" ></script>
		<script type="text/javascript" src="js/canvas2image.js" ></script>
		<script type="text/javascript" src="js/html2canvas.js" ></script>
		<div id="savearea">
			<h3>hello</h3>
			<img src="img/yx.png"/>
		</div>
		
		<div class="info">
			长按图片进行保存
		</div>
		
		<div id="h5canvas">
			
		</div>
		
		<div id="h5img">
			
		</div>
		
		<script type="text/javascript">
			html2canvas(document.querySelector("#savearea")).then(function(canvas){
				document.querySelector("#h5canvas").appendChild(canvas);
				var oCanvas = document.getElementsByTagName("canvas")[0];
				var oImgPng = Canvas2Image.saveAsPNG(oCanvas, true);
				document.getElementById("h5img").appendChild(oImgPng);
				$('.info').show();
				if($('.info').is(":visible")){
					$("#savearea").hide();
					$("#h5canvas").hide();
					
				}
			})
			
		</script>
		
	</body>
</html>


